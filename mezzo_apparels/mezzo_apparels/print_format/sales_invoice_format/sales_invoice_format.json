{
 "_liked_by": "[\"Administrator\"]",
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-05-08 12:22:48.544249",
 "css": "/* custom font family */\n* {\n     font-family: Helvetica Word;\n}\n/* Hide the print heading in the print view */\n.print-heading {\n    display: none;\n}\n\n    .print-format p {\n        margin :0 !important;\n    }\n\n/* Define height for page header and page header space */\n/*.page-header,*/\n/*.page-header-space {*/\n/*    min-height: 446px;*/\n/*}*/\n\n/* Define height for page footer and page footer space */\n/*.page-footer,*/\n/*.page-footer-space {*/\n/*    height: 102mm;*/\n/*}*/\n\n/* Styling for the fixed page footer */\n.page-footer {\n    position : fixed;\n    bottom: 5px;\n    width: 100%;\n    margin: auto;\n}\n.letter-head {\n    margin-bottom : 0px !important;\n}\n.page-header {\n        padding-bottom: 0px !important;\n    margin: 0px !important;\n}\n/* Apply a page break before an element with class 'page-break-before' */\n.page-break-before {\n    page-break-before: always;\n}\n/* Styling for the fixed page header */\n.page-header {\n    position : fixed;\n    top : 0;\n    display: block;\n    width: 100%;\n    border-bottom: 0 !important;\n    /* Remove bottom border */\n    color: #ffffff;\n    /* Text color */\n    margin-left: 0px !important;\n    padding-left: 0 !important;\n}\n\n/* Adjust padding for print format preview in a specific context */\n.print-format .print-format-preview {\n    padding-left: 0px !important;\n}\n\n/* Define page size and margins for printing */\n@page {\n    size: A4 portrait;\n    /* Set page size to A4 in portrait orientation */\n    margin: 8mm;\n    /* Set margin to 10mm */\n    margin-bottom: 55px;\n    /* Set bottom margin to 55px */\n}\n\n/* Media query for print styles */\n@media print {\n    thead {\n        display: table-header-group;\n    }\n\n    /* Display table header in print view */\n    tfoot {\n        display: table-footer-group;\n    }\n\n\n    /* Apply page break before specific elements in print view */\n    .page-break-after {\n        page-break-after: always;\n    }\n\n    /* Display page header in print view */\n    .page-header {\n        display: block;\n    }\n\n    /* Adjust padding for print format preview in print view */\n    .print-format .print-format-preview {\n        padding-left: 0px !important;\n        padding-top: 0px !important;\n    }\n\n    /* Hide buttons in print view */\n    button {\n        display: none;\n    }\n\n    /* Set body margin to 0 in print view */\n    body {\n        margin: 0;\n    }\n}\n\n/* Adjust margin for the page header */\n.page-header {\n    margin-top: 0px !important;\n}\n\n/* Hide a specific element in print view */\n.text-center h4 {\n    display: none;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{%- from \"templates/print_formats/standard_macros.html\" import add_header,\nrender_field -%}\n{% set email_and_website = frappe.get_list(\"Company\", filters={\"name\": doc.company}, fields=[\"*\"]) %}\n{% set company_address = frappe.get_list(\"Address\", filters={\"name\": doc.company_address}, fields=[\"*\"]) %}\n{% set customer_address = frappe.get_list(\"Address\", filters={\"name\": doc.customer_address}, fields=[\"*\"]) %}\n{% set customer_shippin_address = frappe.get_list(\"Address\", filters={\"name\": doc.shipping_address_name}, fields=[\"*\"])\n%}\n{% set company_bank_details = frappe.db.get_list(\"Bank Account\",filters={\"Company\": doc.company}, fields=[\"*\"]) %}\n{% set delivery_data = frappe.db.get_list(doctype=\"Delivery Note\", filters={\"against_sales_invoice\": doc.name}) %}\n{% set delivery_note_names = [] %}\n{% for details in delivery_data %}\n{% set _ = delivery_note_names.append(details.name) %}\n{% endfor %}\n{% set uniq_hsn = [] %}\n{% for item in doc.items %} {%\nif item.gst_hsn_code not in uniq_hsn %} {% set _ =\nuniq_hsn.append(item.gst_hsn_code) %} {% endif %} {% endfor %}\n{% set uoms = [] %}\n{% for item in doc.items %} {% if item.stock_uom not in uoms %} {% set _ =\nuoms.append(item.stock_uom) %} {% endif %} {% endfor %}\n{% set total_tax\n= doc.taxes | map(attribute='rate') | sum %}\n{% macro display_data(data) %}\n{% if data is not none %}\n{{ data }}\n{% endif %}\n{% endmacro %}\n{% set total_amount = doc.items | map(attribute='amount') | sum %}\n{% set total_qty = doc.items | map(attribute='qty') | sum %}\n{% set unique_uom = doc.items | map(attribute='uom') | list | unique %}\n{% set grouped_items = {} %}\n{% for item in doc.items %}\n{% set rate_key = item.custom_mrpprice_list %}\n{% if rate_key not in grouped_items %}\n{% set _ = grouped_items.update({ rate_key: {'custom_mrpprice_list': item.custom_mrpprice_list, 'price_list_rate':\nitem.price_list_rate, 'gst_hsn_code': item.gst_hsn_code, 'stock_uom': item.stock_uom, 'items': [{'item_code':\nitem.item_code, 'item_name': item.item_name, 'qty': item.qty, 'amount': item.amount}]}}) %}\n{% else %}\n{% set _ = grouped_items[rate_key]['items'].append({'item_code': item.item_code, 'item_name': item.item_name, 'qty':\nitem.qty, 'amount': item.amount}) %}\n{% endif %}\n{% endfor %}\n{% set final_list = [] %}\n{%- for rate_key, data in grouped_items.items() %}\n{%- if data['items'][0].item_code != 'Total' %}\n{%- set total_qty = data['items']|map(attribute='qty')|sum %}\n{%- set total_amount = data['items']|map(attribute='amount')|sum %}\n{%- set _ = final_list.append({'custom_mrpprice_list': data.custom_mrpprice_list, 'price_list_rate':\ndata.price_list_rate, 'gst_hsn_code': data.gst_hsn_code, 'stock_uom': data.stock_uom, 'item_code':\ndata['items'][0].item_code, 'item_name': data['items'][0].item_name, 'qty': total_qty, 'amount': total_amount}) %}\n{%- endif %}\n{%- endfor %}\n{% set company_bank_details = frappe.db.get_list(\"Bank Account\", filters={\"company\" : doc.company}, fields=[\"*\"]) %}\n{% set variant_totals = {} %}\n{% set variant_gst_hsn = {} %}\n{% set variant_stock_uom = {} %}\n{% set variant_prices = {} %}\n{% set variant_sizes = {} %}\n{% for row in doc.items %}\n{% set item_data = frappe.get_doc(\"Item\", row.item_code, fields=[\"*\"]) %}\n{% set variant_of = item_data.variant_of %}\n{% set gst_hsn_code = row.gst_hsn_code %}\n{% set uom = item_data.stock_uom %}\n{% if variant_of not in variant_totals %}\n{% set dummy = variant_totals.update({variant_of: 0}) %}\n{% set dummy = variant_gst_hsn.update({variant_of: set()}) %}\n{% set dummy = variant_stock_uom.update({variant_of: set()}) %}\n{% set dummy = variant_prices.update({variant_of: { \"Total Qty\": 0, \"Total Price List Rate\": 0, \"Total Rate\": 0, \"Total\nBase Amount\": 0, \"GST HSN Codes\": set(), \"UOM\": set() }}) %}\n{% set dummy = variant_sizes.update({variant_of: set()}) %}\n{% endif %}\n{% set dummy = variant_totals.update({variant_of: variant_totals.get(variant_of, 0) + row.qty}) %}\n{% set dummy = variant_gst_hsn[variant_of].add(gst_hsn_code) %}\n{% set dummy = variant_stock_uom[variant_of].add(uom) %}\n{% set dummy = variant_prices[variant_of].update({ \"Total Qty\": variant_prices[variant_of].get(\"Total Qty\", 0) +\nrow.qty, \"Total Price List Rate\": variant_prices[variant_of].get(\"Total Price List Rate\", 0) + row.price_list_rate,\n\"Total Rate\": variant_prices[variant_of].get(\"Total Rate\", 0) + row.rate, \"Total Base Amount\":\nvariant_prices[variant_of].get(\"Total Base Amount\", 0) + row.base_amount, \"GST HSN Codes\": variant_gst_hsn[variant_of]\nif variant_gst_hsn[variant_of] is not none else set(), \"UOM\": variant_stock_uom[variant_of] if\nvariant_stock_uom[variant_of] is not none else set() }) %}\n{# Extracting sizes #}\n{% for attr in item_data.attributes %}\n{% if attr.attribute == \"Size\" %}\n{% set dummy = variant_sizes[variant_of].add(attr.attribute_value) %}\n{% endif %}\n{% endfor %}\n{% endfor %}\n{% set variant_list = [] %}\n{% for variant, data in variant_prices.items() %}\n{% set variant_dict = { \"Variant_Of\": variant, \"Total_Qty\": data[\"Total Qty\"], \"GST_HSN_Codes\": \", \".join(list(data[\"GST\nHSN Codes\"])), \"UOM\": \", \".join(list(data[\"UOM\"])), \"Price_List_Rate\": data[\"Total Price List Rate\"], \"Rate\":\ndata[\"Total Rate\"], \"Base_Amount\": data[\"Total Base Amount\"], \"Sizes\": \", \".join(list(variant_sizes[variant])) } %}\n{% set dummy = variant_list.append(variant_dict) %}\n{% endfor %}\n{% set fetch_e_Waybill_Log_data = frappe.db.get_list(\"e-Waybill Log\", filters={\"reference_name\": doc.name},\nfields=[\"*\"]) %}\n{% macro display_data(data) %}\n{% if data is not none %}\n{{ data }}\n{% endif %}\n{% endmacro %}\n{% if doc.irn %}\n{% set invoice_data = frappe.db.get_list(\"e-Invoice Log\", filters={\"irn\": doc.irn}, fields=[\"acknowledgement_number\",\n\"signed_qr_code\"]) %}\n{% endif %}\n{% set aggregated_data = {} %}\n{% for row in doc.items %}\n{% set fetching_parent_items_dets = frappe.db.get_list(\"Item\", filters={\"item_code\": row.item_code},\nfields=[\"variant_of\"]) %}\n{% for parent_data in fetching_parent_items_dets %}\n{% set parent_items_dets = frappe.db.get_list(\"Item\", filters={\"name\": parent_data.variant_of},\nfields=[\"custom_product_name\", \"brand\", \"gst_hsn_code\", \"stock_uom\"]) %}\n{% for data in parent_items_dets %}\n{% set custom_mrpprice_list = row.custom_mrpprice_list %}\n{% set product_name = data.custom_product_name %}\n{% set brand = data.brand %}\n{% set gst_hsn_code = data.gst_hsn_code %}\n{% set uom = data.stock_uom %}\n{% set key = (custom_mrpprice_list, product_name, brand) %}\n{% if key not in aggregated_data %}\n{% set _ = aggregated_data.update({key: {'custom_mrpprice_list': custom_mrpprice_list, 'product_name': product_name,\n'brand': brand, 'qty': row.qty, 'total': row.amount, 'hsn_code': gst_hsn_code, 'uom': uom}}) %}\n{% else %}\n{% set aggregated_data = aggregated_data.copy() %}\n{% set current_qty = aggregated_data[key]['qty'] %}\n{% set current_amt = aggregated_data[key]['total'] %}\n{% set new_qty = current_qty + row.qty %}\n{% set new_amt = current_amt + row.amount %}\n{% set _ = aggregated_data[key].update({'qty': new_qty, 'total': new_amt}) %}\n{% endif %}\n{% endfor %}\n{% endfor %}\n{% endfor %}\n\n{% set finale_list = aggregated_data.values() | list %}\n<!--logic for with shipping address-->\n{% if doc.shipping_address_name %}\n{% set display_next_page1 = finale_list|length > 9 %}\n<div class=\"page-header\" style=\"margin-top: 444.688px;\">\n    {{ add_header(0, 1, doc, letter_head, no_letterhead ) }}\n</div>\n<table style=\"width : 100%; border : 1px solid black; margin-top : 444.688px\">\n    <tbody>\n        <tr>\n            <td\n                style=\"border: 1px solid black; width: 7%; color: black; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Sl <br /> No.\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 57%; text-align: center; font-weight: bold; padding: 0px !important;;\">\n                Description of Goods\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 13%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                HSN Code\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 8%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Qty\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 8%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Unit\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black;  width: 9.5%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                MRP\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black;  width: 1.5%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Rate\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black;  width: 100.5%; ; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Amount <br /> (\u20b9)\n            </td>\n        </tr>\n        {% set max_range1 = 16 if finale_list|length > 9 else 9 %}\n        {% for i in range(max_range1) %}\n        <tr>\n            {% if i < finale_list|length %} <td style=\"\n                border-right: 1px solid black;\n                width: 9%;\n                color: black;\n                text-align: center;\n                padding: 3px !important;\n                font-size: 11px;\">\n                {{ i + 1 }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px; border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['product_name']) }} {{ display_data(finale_list[i]['brand']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['hsn_code']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['qty']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['uom']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['custom_mrpprice_list']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {% if finale_list[i-1]['qty'] != 0 %}\n                    {{ (finale_list[i]['total'] / finale_list[i]['qty']) | round(2) }}\n                    {% else %}\n                    <!-- or whatever you want to display in case of division by zero -->\n                    {% endif %}\n                </td>\n                <td style=\"\n                border-right: 1px solid black;\n                color: black;\n                text-align: right;\n                width: 25%;\n                padding: 3px !important;font-size: 11px;\">\n                    {{ final_list[i]['total'] }}\n                </td>\n                {% else %}\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11x;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td style=\"\n                border-right: 1px solid black;\n                color: black;\n                text-align: left;\n                width: 25%;\n                padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                {% endif %}\n        </tr>\n        {% endfor %}\n    <tfoot>\n        <tbody {% if display_next_page1 %}class=\"next-page\" style=\"    page-break-before: always;\n          position : relative;\n          bottom : -680.188px !important;\" {% endif %}>\n            <tr>\n                <td style=\"\n                border: 1px solid black;\n                width: 9%;\n                color: black;\n                text-align: left;\n                font-size : 11px;\n                padding: 0!important;\n                \" colspan=\"7\">\n                    <div style=\"height: 17.6px\"></div>\n                    <div style=\"display: flex; flex-direction: column\">\n                        <div style=\"padding-left: 370px\">\n                            Discount @ &nbsp; &nbsp; &nbsp; {%if doc.additional_discount_percentage == 0.0 %} {%else%}\n                            {{doc.additional_discount_percentage}} {%endif%}\n                        </div>\n                        {% for tax_data in doc.taxes %}\n                        <div style=\"padding-left: 370px\">\n                            {{ display_data(tax_data.description) }}\n                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @ &nbsp; &nbsp; &nbsp;\n                            &nbsp; {{ display_data(tax_data.rate) }} %\n                        </div>\n                        {% endfor %}\n                        <div style=\"padding-left: 370px\">\n                            Rounded Off(+)\n                        </div>\n                    </div>\n                </td>\n                <td style=\"\n                border: 1px solid black;\n                color: black;\n                width: 10.5%;\n                text-align: right;\n                font-size: 11px;\n                padding: 0!important;\n                padding-right: 3px !important;\n                \">\n                    <div>{{ display_data(total_amount) }}</div>\n                    <div>{{ doc.discount_amount or \"0.0\" }}</div>\n                    <div style=\"display: flex; flex-direction: column\">\n                        {% for tax_data in doc.taxes %}\n                        <div>{{ display_data(tax_data.tax_amount) }}</div>\n                        {% endfor %}\n                        <div>{{ display_data(doc.rounding_adjustment) }}</div>\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td colspan=\"8\">\n                    <div style=\"display: flex; gap: 10px; font-size: 11px\">\n                        <div>\n                            HSN/SAC\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {% for hsn in uniq_hsn %} {{ display_data(hsn) }}{% if not\n                            loop.last %}, {% endif %} {% endfor %}\n                        </div>\n                        <div style=\"width: 49px\">\n                            Total Tax\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(doc.total_taxes_and_charges) }}\n                        </div>\n                        <div style=\"width: 46px\">\n                            <span>Tax Rate</span>\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(total_tax) }}%\n                        </div>\n                        <div style=\"width: 50px\">\n                            Main Qty.\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(total_qty) }}\n                        </div>\n                        <div>\n                            UQC\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {% for uom in uoms %} {{ display_data(uom) }}{% if not loop.last\n                            %}, {% endif %} {% endfor %}.\n                        </div>\n                        <div style=\"width: 68px\">\n                            Taxable Amt.\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(total_amount) }}\n                        </div>\n                        <div style=\"display: flex; gap: 10px\">\n                            {% for tax_data in doc.taxes %}\n                            <div style=\"width: 56px\">\n                                {{ display_data(tax_data.description) }} Amt.\n                                <hr style=\"\n                            margin: 0 !important;\n                            border-top: 1px solid #000 !important;\n                            \" />\n                                {{ display_data(tax_data.tax_amount) }}\n                            </div>\n                            {% endfor %}\n                        </div>\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td colspan=\"2\"\n                    style=\"padding: 2px !important; text-align : left; border : 1px solid black; font-size : 11px;\">{{\n                    display_data(doc.in_words) }}\n                </td>\n                <td colspan=\"1\"\n                    style=\"padding: 2px !important; text-align : left; border : 1px solid black; font-size : 11px;\">\n                    Grand\n                    Total\n                </td>\n                <td colspan=\"1\"\n                    style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; font-weight : 700;\">{{\n                    display_data(total_qty) }}\n                </td>\n                <td colspan=\"1\"\n                    style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; font-weight : 700;\">\n                    {% for uom in uoms %} {{ display_data(uom) }}{% if not loop.last\n                    %}, {% endif %} {% endfor %}.\n                </td>\n                <td colspan=\"2\"\n                    style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; text-align : right\">\n                    \u20b9\n                </td>\n                <td style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; font-weight : 700;\">{{\n                    display_data(doc.rounded_total) }}\n                </td>\n            </tr>\n        </tbody>\n    </tfoot>\n    </tbody>\n</table>\n<!-- Page Footer Section -->\n<div class=\"page-footer\">{{footer}}</div>\n<!--Logic for without shipping address-->\n{% else %}\n{% set display_next_page2 = finale_list|length > 14 %}\n<div class=\"page-header\" style=\"margin-top: 341px;\">\n    {{ add_header(0, 1, doc, letter_head, no_letterhead ) }}\n</div>\n<table style=\"width : 100%; border : 1px solid black; margin-top : 341px\">\n    <tbody>\n        <tr>\n            <td\n                style=\"border: 1px solid black; width: 7%; color: black; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Sl <br /> No.\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 57%; text-align: center; font-weight: bold; padding: 0px !important;;\">\n                Description of Goods\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 13%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                HSN Code\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 8%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Qty\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black; width: 8%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Unit\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black;  width: 9.5%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                MRP\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black;  width: 1.5%; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Rate\n            </td>\n            <td\n                style=\"border: 1px solid black; color: black;  width: 100.5%; ; text-align: center; font-weight: bold; padding: 0px !important;\">\n                Amount <br /> (\u20b9)\n            </td>\n        </tr>\n        {% set max_range2 = 21 if finale_list|length > 14 else 14 %}\n        {% for i in range(max_range2) %}\n        <tr>\n            {% if i < finale_list|length %} <td style=\"\n                border-right: 1px solid black;\n                width: 9%;\n                color: black;\n                text-align: center;\n                padding: 3px !important;\n                font-size: 11px;\">\n                {{ i + 1 }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px; border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['product_name']) }} {{ display_data(finale_list[i]['brand']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['hsn_code']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['qty']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['uom']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {{ display_data(finale_list[i]['custom_mrpprice_list']) }}\n                </td>\n                <td\n                    style=\" color: black; text-align: left;padding: 3px !important;font-size: 11px;border-right: 1px solid black;\">\n                    {% if finale_list[i]['qty'] != 0 %}\n                    {{ (finale_list[i]['total'] / finale_list[i]['qty']) | round(2) }}\n                    {% else %}\n                    <!-- or whatever you want to display in case of division by zero -->\n                    {% endif %}\n                </td>\n                <td style=\"\n                border-right: 1px solid black;\n                color: black;\n                text-align: right;\n                width: 25%;\n                padding: 3px !important;font-size: 11px;\">\n                    {{ display_data(finale_list[i]['total']) }}\n                </td>\n                {% else %}\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td\n                    style=\"border-right: 1px solid black; color: black; text-align: left;padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                <td style=\"\n                border-right: 1px solid black;\n                color: black;\n                text-align: left;\n                width: 25%;\n                padding: 3px !important;font-size: 11px;\">\n                    &nbsp;\n                </td>\n                {% endif %}\n        </tr>\n        {% endfor %}\n    </tbody>\n    <tfoot>\n        <tbody {% if display_next_page2 %}class=\"next-page\" style=\"    page-break-before: always;\n            position : relative;\n            bottom : -681px !important;\" {% endif %}>\n            <tr>\n                <td style=\"\n                border: 1px solid black;\n                width: 9%;\n                color: black;\n                text-align: left;\n                font-size : 11px;\n                padding: 0!important;\n                \" colspan=\"7\">\n                    <div style=\"height: 17.6px\"></div>\n                    <div style=\"display: flex; flex-direction: column\">\n                        <div style=\"padding-left: 370px\">\n                            Discount @ &nbsp; &nbsp; &nbsp; {%if doc.additional_discount_percentage == 0.0 %} {%else%}\n                            {{doc.additional_discount_percentage}} {%endif%}\n                        </div>\n                        {% for tax_data in doc.taxes %}\n                        <div style=\"padding-left: 370px\">\n                            Add &nbsp; : &nbsp; {{ display_data(tax_data.description) }}\n                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @ &nbsp; &nbsp; &nbsp;\n                            &nbsp; {{ display_data(tax_data.rate) }} %\n                        </div>\n                        {% endfor %}\n                        <div style=\"padding-left: 370px\">\n                            Rounded Off(+)\n                        </div>\n                    </div>\n                </td>\n                <td style=\"\n                border: 1px solid black;\n                color: black;\n                width: 10.5%;\n                text-align: right;\n                font-size: 11px;\n                padding: 0px !important;\n                padding-right: 3px !important;\n                \">\n                    <div>{{ display_data(total_amount) }}</div>\n                    <div>{{ doc.discount_amount or \"0.0\" }}</div>\n                    <div style=\"display: flex; flex-direction: column\">\n                        {% for tax_data in doc.taxes %}\n                        <div>{{ display_data(tax_data.tax_amount) }}</div>\n                        {% endfor %}\n                        <div>{{ display_data(doc.rounding_adjustment) }}</div>\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td colspan=\"8\">\n                    <div style=\"display: flex; gap: 10px; font-size: 11px\">\n                        <div>\n                            HSN/SAC\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {% for hsn in uniq_hsn %} {{ display_data(hsn) }}{% if not\n                            loop.last %}, {% endif %} {% endfor %}\n                        </div>\n                        <div style=\"width: 49px\">\n                            Total Tax\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(doc.total_taxes_and_charges) }}\n                        </div>\n                        <div style=\"width: 46px\">\n                            <span>Tax Rate</span>\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(total_tax) }}%\n                        </div>\n                        <div style=\"width: 50px\">\n                            Main Qty.\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(total_qty) }}\n                        </div>\n                        <div>\n                            UQC\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {% for uom in uoms %} {{ display_data(uom) }}{% if not loop.last\n                            %}, {% endif %} {% endfor %}.\n                        </div>\n                        <div style=\"width: 68px\">\n                            Taxable Amt.\n                            <hr style=\"\n                         margin: 0 !important;\n                         border-top: 1px solid #000 !important;\n                         \" />\n                            {{ display_data(total_amount) }}\n                        </div>\n                        <div style=\"display: flex; gap: 10px\">\n                            {% for tax_data in doc.taxes %}\n                            <div style=\"width: 56px\">\n                                {{ display_data(tax_data.description) }} Amt.\n                                <hr style=\"\n                            margin: 0 !important;\n                            border-top: 1px solid #000 !important;\n                            \" />\n                                {{ display_data(tax_data.tax_amount) }}\n                            </div>\n                            {% endfor %}\n                        </div>\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td colspan=\"2\"\n                    style=\"padding: 2px !important; text-align : left; border : 1px solid black; font-size : 11px;\">{{\n                    display_data(doc.in_words) }}\n                </td>\n                <td colspan=\"1\"\n                    style=\"padding: 2px !important; text-align : left; border : 1px solid black; font-size : 11px; font-weight : 700;\">\n                    Grand\n                    Total\n                </td>\n                <td colspan=\"1\"\n                    style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; font-weight : 700;\">{{\n                    display_data(total_qty) }}\n                </td>\n                <td colspan=\"1\"\n                    style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; font-weight : 700;\">\n                    {% for uom in uoms %} {{ display_data(uom) }}{% if not loop.last\n                    %}, {% endif %} {% endfor %}.\n                </td>\n                <td colspan=\"2\"\n                    style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; text-align : right\">\n                    \u20b9\n                </td>\n                <td style=\"padding: 2px !important; border : 1px solid black; font-size : 11px; font-weight : 700;\">{{\n                    display_data(doc.rounded_total) }}\n                </td>\n            </tr>\n        </tbody>\n    </tfoot>\n</table>\n<!-- Page Footer Section -->\n<div class=\"page-footer\">{{footer}}</div>\n{% endif %}",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-06-25 15:13:22.236664",
 "modified_by": "Administrator",
 "module": "Mezzo Apparels",
 "name": "Sales Invoice Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}