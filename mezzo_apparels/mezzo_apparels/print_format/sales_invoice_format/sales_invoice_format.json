{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-05-08 12:22:48.544249",
 "css": "/* Hide the print heading in the print view */\n.print-heading {\n    display: none;\n}\n\n/* Define height for page header and page header space */\n.page-header,\n.page-header-space {\n    min-height: 445px;\n}\n\n/* Define height for page footer and page footer space */\n.page-footer,\n.page-footer-space {\n    height: 101.8mm;\n}\n\n/* Styling for the fixed page footer */\n.page-footer {\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    margin: auto;\n}\n\n/* Apply a page break before an element with class 'page-break-before' */\n.page-break-before {\n    page-break-before: always;\n}\n\n/* Styling for the fixed page header */\n.page-header {\n    position: fixed;\n    top: 0mm;\n    display: block;\n    width: 100%;\n    border-bottom: 0 !important;\n    /* Remove bottom border */\n    color: #ffffff;\n    /* Text color */\n    margin-left: 0px !important;\n    padding-left: 0 !important;\n}\n\n/* Adjust padding for print format preview in a specific context */\n.print-format .print-format-preview {\n    padding-left: 0px !important;\n}\n\n/* Define page size and margins for printing */\n@page {\n    size: A4 portrait;\n    /* Set page size to A4 in portrait orientation */\n    margin: 10mm;\n    /* Set margin to 10mm */\n    margin-bottom: 55px;\n    /* Set bottom margin to 55px */\n}\n\n/* Media query for print styles */\n@media print {\n    thead {\n        display: table-header-group;\n    }\n\n    /* Display table header in print view */\n    tfoot {\n        display: table-footer-group;\n    }\n\n    /* Display table footer in print view */\n\n    /* Adjust height for page header and page header space in print view */\n    .page-header,\n    .page-header-space {\n        min-height: 445px;\n        border-bottom: 0 !important;\n        /* Remove bottom border */\n    }\n\n    /* Adjust height for page footer and page footer space in print view */\n    .page-header,\n    .page-footer-space {\n        height: 101.8mm;\n    }\n\n    /* Apply page break before specific elements in print view */\n    .page-break-before {\n        page-break-before: always;\n    }\n\n    /* Display page header in print view */\n    .page-header {\n        display: block;\n    }\n\n    /* Adjust padding for print format preview in print view */\n    .print-format .print-format-preview {\n        padding-left: 0px !important;\n        padding-top: 0px !important;\n    }\n\n    /* Hide buttons in print view */\n    button {\n        display: none;\n    }\n\n    /* Set body margin to 0 in print view */\n    body {\n        margin: 0;\n    }\n}\n\n/* Adjust margin for the page header */\n.page-header {\n    margin-top: 0px !important;\n}\n\n/* Hide a specific element in print view */\n.text-center h4 {\n    display: none;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% from \"templates/print_formats/standard_macros.html\" import add_header,\nrender_field %} {% set company_bank_details = frappe.db.get_list(\"Bank Account\",\nfilters={\"company\" : doc.company} , fields=[\"*\"]) %} {% macro display_data(data)\n%} {% if data is not none %} {{ data }} {% endif %} {% endmacro %} {% set\ntotal_amount = doc.items | map(attribute='amount') | sum %} {% set grouped_items\n= {} %} {% for item in doc.items %} {% set rate_key = item.custom_mrpprice_list\n%} {% if rate_key not in grouped_items %} {% set _ = grouped_items.update({\nrate_key: {'custom_mrpprice_list': item.custom_mrpprice_list, 'price_list_rate':\nitem.price_list_rate, 'gst_hsn_code': item.gst_hsn_code, 'stock_uom':\nitem.stock_uom, 'items': [{'item_code': item.item_code, 'item_name':\nitem.item_name, 'qty': item.qty, 'amount': item.amount}]}}) %} {% else %} {% set\n_ = grouped_items[rate_key]['items'].append({'item_code': item.item_code,\n'item_name': item.item_name, 'qty': item.qty, 'amount': item.amount}) %} {%\nendif %} {% endfor %} {% set final_list = [] %} {%- for rate_key, data in\ngrouped_items.items() %} {%- if data['items'][0].item_code != 'Total' %} {%- set\ntotal_qty = data['items']|map(attribute='qty')|sum %} {%- set total_amount =\ndata['items']|map(attribute='amount')|sum %} {%- set _ =\nfinal_list.append({'custom_mrpprice_list': data.custom_mrpprice_list,\n'price_list_rate': data.price_list_rate, 'gst_hsn_code': data.gst_hsn_code,\n'stock_uom': data.stock_uom, 'item_code': data['items'][0].item_code,\n'item_name': data['items'][0].item_name, 'qty': total_qty, 'amount':\ntotal_amount}) %} {%- endif %} {%- endfor %} {% set company_bank_details =\nfrappe.db.get_list(\"Bank Account\", filters={\"company\" : doc.company} ,\nfields=[\"*\"]) %} {% set variant_totals = {} %} {% set variant_gst_hsn = {} %} {%\nset variant_stock_uom = {} %} {% set variant_prices = {} %} {% set variant_sizes\n= {} %} {% for row in doc.items %} {% set item_data = frappe.get_doc(\"Item\",\nrow.item_code, fields=[\"*\"]) %} {% set variant_of = item_data.variant_of %} {%\nset gst_hsn_code = row.gst_hsn_code %} {% set uom = item_data.stock_uom %} {% if\nvariant_of not in variant_totals %} {% set dummy =\nvariant_totals.update({variant_of: 0}) %} {% set dummy =\nvariant_gst_hsn.update({variant_of: set()}) %} {% set dummy =\nvariant_stock_uom.update({variant_of: set()}) %} {% set dummy =\nvariant_prices.update({variant_of: { \"Total Qty\": 0, \"Total Price List Rate\": 0,\n\"Total Rate\": 0, \"Total Base Amount\": 0, \"GST HSN Codes\": set(), \"UOM\": set()\n}}) %} {% set dummy = variant_sizes.update({variant_of: set()}) %} {% endif %}\n{% set dummy = variant_totals.update({variant_of: variant_totals.get(variant_of,\n0) + row.qty}) %} {% set dummy = variant_gst_hsn[variant_of].add(gst_hsn_code)\n%} {% set dummy = variant_stock_uom[variant_of].add(uom) %} {% set dummy =\nvariant_prices[variant_of].update({ \"Total Qty\":\nvariant_prices[variant_of].get(\"Total Qty\", 0) + row.qty, \"Total Price List\nRate\": variant_prices[variant_of].get(\"Total Price List Rate\", 0) +\nrow.price_list_rate, \"Total Rate\": variant_prices[variant_of].get(\"Total Rate\",\n0) + row.rate, \"Total Base Amount\": variant_prices[variant_of].get(\"Total Base\nAmount\", 0) + row.base_amount, \"GST HSN Codes\": variant_gst_hsn[variant_of] if\nvariant_gst_hsn[variant_of] is not none else set(), \"UOM\":\nvariant_stock_uom[variant_of] if variant_stock_uom[variant_of] is not none else\nset() }) %} {# Extracting sizes #} {% for attr in item_data.attributes %} {% if\nattr.attribute == \"Size\" %} {% set dummy =\nvariant_sizes[variant_of].add(attr.attribute_value) %} {% endif %} {% endfor %}\n{% endfor %} {% set variant_list = [] %} {% for variant, data in\nvariant_prices.items() %} {% set variant_dict = { \"Variant_Of\": variant,\n\"Total_Qty\": data[\"Total Qty\"], \"GST_HSN_Codes\": \", \".join(list(data[\"GST HSN\nCodes\"])), \"UOM\": \", \".join(list(data[\"UOM\"])), \"Price_List_Rate\": data[\"Total\nPrice List Rate\"], \"Rate\": data[\"Total Rate\"], \"Base_Amount\": data[\"Total Base\nAmount\"], \"Sizes\": \", \".join(list(variant_sizes[variant])) } %} {% set dummy =\nvariant_list.append(variant_dict) %} {% endfor %}\n<!--{{ final_list }}-->\n\n<!-- Outer container for the print format with some styling -->\n<div class=\"print-format .print-format-preview\" style=\"padding-left: 0px\">\n  <!-- Page Header Section -->\n  <div class=\"page-header\">\n    {{ add_header(0, 1, doc, letter_head, no_letterhead ) }}\n  </div>\n\n  <!-- Page Footer Section -->\n  <div class=\"page-footer\">{{footer}}</div>\n\n  <!-- Table for the entire print format -->\n  <!-- Table for the entire print format -->\n  <table>\n    <!-- Table Header Section -->\n    <thead>\n      <tr>\n        <th>\n          <!-- Placeholder for the fixed-position header -->\n          <div class=\"page-header-space\"></div>\n        </th>\n      </tr>\n      <tr>\n        <th\n          style=\"\n            border: 1px solid black;\n            width: 8%;\n            color: black;\n            text-align: left;\n            font-weight: bold;\n          \"\n        >\n          Sr No.\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 100%;\n            text-align: left;\n            font-weight: bold;\n          \"\n        >\n          Description of Goods\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 10%;\n            text-align: left;\n            font-weight: bold;\n          \"\n        >\n          HSN Code\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 5%;\n            text-align: left;\n            font-weight: bold;\n          \"\n        >\n          Qty\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 5%;\n            text-align: left;\n            font-weight: bold;\n          \"\n        >\n          Unit\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            width: 12.5%;\n            font-weight: bold;\n          \"\n        >\n          MRP\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            width: 12.5%;\n            font-weight: bold;\n          \"\n        >\n          Rate\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            width: 22.5%;\n            padding-right: 30px !important;\n            font-weight: bold;\n          \"\n        >\n          Amount\n        </th>\n      </tr>\n    </thead>\n\n    <!-- Table Body Section -->\n    <tbody style=\"border-bottom: 1px solid black\">\n      {% for i in range(1, final_list|length + 1) %} {% if i % 3 == 0 %}\n    </tbody>\n  </table>\n  <!-- Placeholder for the fixed-position footer -->\n  <div class=\"page-footer-space\"></div>\n  <!-- Page break -->\n  <div class=\"page-break\"></div>\n  <table>\n    <thead>\n      <tr>\n        <th>\n          <!-- Placeholder for the fixed-position header -->\n          <div class=\"page-header-space\"></div>\n        </th>\n      </tr>\n      <tr>\n        <th\n          style=\"\n            border: 1px solid black;\n            width: 8%;\n            color: black;\n            text-align: left;\n          \"\n        >\n          Sr No.\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 50%;\n            text-align: left;\n          \"\n        >\n          Description of Goods\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 15%;\n            text-align: left;\n          \"\n        >\n          HSN Code\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 5%;\n            text-align: left;\n          \"\n        >\n          Qty\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            width: 5%;\n            text-align: left;\n          \"\n        >\n          Unit\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            width: 12.5%;\n          \"\n        >\n          MRP\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            width: 12.5%;\n          \"\n        >\n          Rate\n        </th>\n        <th\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            width: 22.5%;\n            padding-right: 30px !important;\n          \"\n        >\n          Amount\n        </th>\n      </tr>\n    </thead>\n    <tbody style=\"border-bottom: 1px solid black\">\n      {% endif %}\n      <tr>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {{ i }}\n        </td>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {% set fetching_variant_dets = frappe.db.get_list(\"Item\",\n          filters={\"name\": final_list[i-1]['item_code']}, fields=[\"*\"]) %} {%\n          for data in fetching_variant_dets %} {% set parent_prod_name =\n          frappe.db.get_list(\"Item\", filters={\"name\": data.variant_of},\n          fields=[\"*\"]) %} {% for details in parent_prod_name %} {{\n          details.item_name }} {% endfor %} {% endfor %}\n        </td>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {% set fetching_variant_hsn_dets = frappe.db.get_list(\"Item\",\n          filters={\"name\": final_list[i-1]['item_code'], \"gst_hsn_code\":\n          final_list[i-1]['gst_hsn_code']}, fields=[\"*\"]) %} {% for data in\n          fetching_variant_hsn_dets %} {% set parent_prod_name =\n          frappe.db.get_list(\"Item\", filters={\"name\": data.variant_of},\n          fields=[\"*\"]) %} {% for details in parent_prod_name %} {{\n          details.gst_hsn_code }} {% endfor %} {% endfor %}\n        </td>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {{ final_list[i-1]['qty'] }}\n        </td>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {{ final_list[i-1]['stock_uom'] }}\n        </td>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {{ final_list[i-1]['custom_mrpprice_list'] }}\n        </td>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {{ final_list[i-1]['price_list_rate'] }}\n        </td>\n        <td\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            padding-right: 30px !important;\n          \"\n        >\n          {{ final_list[i-1]['amount'] }}\n        </td>\n      </tr>\n      {% endfor %} {% for j in range(final_list|length, 3) %}\n      <tr>\n        <td style=\"border: 1px solid black; color: black; text-align: left\">\n          {{ j + 1 }}\n        </td>\n        <td\n          style=\"border: 1px solid black; color: black; text-align: left\"\n        ></td>\n        <td\n          style=\"border: 1px solid black; color: black; text-align: left\"\n        ></td>\n        <td\n          style=\"border: 1px solid black; color: black; text-align: left\"\n        ></td>\n        <td\n          style=\"border: 1px solid black; color: black; text-align: left\"\n        ></td>\n        <td\n          style=\"border: 1px solid black; color: black; text-align: left\"\n        ></td>\n        <td\n          style=\"border: 1px solid black; color: black; text-align: left\"\n        ></td>\n        <td\n          style=\"\n            border: 1px solid black;\n            color: black;\n            text-align: left;\n            padding-right: 30px !important;\n          \"\n        ></td>\n      </tr>\n      {% endfor %}\n    </tbody>\n\n    <tfoot>\n      <tr>\n        <td>\n          <!-- Placeholder for the fixed-position footer -->\n          <div class=\"page-footer-space\"></div>\n        </td>\n      </tr>\n    </tfoot>\n    <!-- Additional TableRow -->\n    <tbody></tbody>\n  </table>\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-06-07 18:18:22.468844",
 "modified_by": "Administrator",
 "module": "Mezzo Apparels",
 "name": "Sales Invoice Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}