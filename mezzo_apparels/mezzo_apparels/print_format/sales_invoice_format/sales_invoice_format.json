{
 "_liked_by": "[\"Administrator\"]",
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-05-08 12:22:48.544249",
 "css": "/* Hide the print heading in the print view */\n.print-heading {\n    display: none;\n}\n\n/* Define height for page header and page header space */\n.page-header,\n.page-header-space {\n    min-height: 446px;\n}\n\n/* Define height for page footer and page footer space */\n.page-footer,\n.page-footer-space {\n    height: 102mm;\n}\n\n/* Styling for the fixed page footer */\n.page-footer {\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    margin: auto;\n}\n\n/* Apply a page break before an element with class 'page-break-before' */\n.page-break-before {\n    page-break-before: always;\n}\n\n/* Styling for the fixed page header */\n.page-header {\n    position: fixed;\n    top: 0mm;\n    display: block;\n    width: 100%;\n    border-bottom: 0 !important;\n    /* Remove bottom border */\n    color: #ffffff;\n    /* Text color */\n    margin-left: 0px !important;\n    padding-left: 0 !important;\n}\n\n/* Adjust padding for print format preview in a specific context */\n.print-format .print-format-preview {\n    padding-left: 0px !important;\n}\n\n/* Define page size and margins for printing */\n@page {\n    size: A4 portrait;\n    /* Set page size to A4 in portrait orientation */\n    margin: 10mm;\n    /* Set margin to 10mm */\n    margin-bottom: 55px;\n    /* Set bottom margin to 55px */\n}\n\n/* Media query for print styles */\n@media print {\n    thead {\n        display: table-header-group;\n    }\n\n    /* Display table header in print view */\n    tfoot {\n        display: table-footer-group;\n    }\n\n    /* Display table footer in print view */\n\n    /* Adjust height for page header and page header space in print view */\n    .page-header,\n    .page-header-space {\n        min-height: 446px;\n        border-bottom: 0 !important;\n        /* Remove bottom border */\n    }\n\n    /* Adjust height for page footer and page footer space in print view */\n    .page-header,\n    .page-footer-space {\n        height: 102mm;\n    }\n\n    /* Apply page break before specific elements in print view */\n    .page-break-before {\n        page-break-before: always;\n    }\n\n    /* Display page header in print view */\n    .page-header {\n        display: block;\n    }\n\n    /* Adjust padding for print format preview in print view */\n    .print-format .print-format-preview {\n        padding-left: 0px !important;\n        padding-top: 0px !important;\n    }\n\n    /* Hide buttons in print view */\n    button {\n        display: none;\n    }\n\n    /* Set body margin to 0 in print view */\n    body {\n        margin: 0;\n    }\n}\n\n/* Adjust margin for the page header */\n.page-header {\n    margin-top: 0px !important;\n}\n\n/* Hide a specific element in print view */\n.text-center h4 {\n    display: none;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{%- from \"templates/print_formats/standard_macros.html\" import add_header,\nrender_field -%}\n{% set email_and_website = frappe.get_list(\"Company\", filters={\"name\": doc.company}, fields=[\"*\"]) %}\n{% set company_address = frappe.get_list(\"Address\", filters={\"name\": doc.company_address}, fields=[\"*\"]) %}\n{% set customer_address = frappe.get_list(\"Address\", filters={\"name\": doc.customer_address}, fields=[\"*\"]) %}\n{% set customer_shippin_address = frappe.get_list(\"Address\", filters={\"name\": doc.shipping_address_name}, fields=[\"*\"])\n%}\n{% set company_bank_details = frappe.db.get_list(\"Bank Account\",filters={\"Company\": doc.company}, fields=[\"*\"]) %}\n{% set delivery_data = frappe.db.get_list(doctype=\"Delivery Note\", filters={\"against_sales_invoice\": doc.name}) %}\n{% set delivery_note_names = [] %}\n{% for details in delivery_data %}\n{% set _ = delivery_note_names.append(details.name) %}\n{% endfor %}\n{% set company_bank_details = frappe.db.get_list(\"Bank Account\", filters={\"company\" : doc.company}, fields=[\"*\"]) %}\n{% macro display_data(data) %}\n{% if data is not none %}\n{{ data }}\n{% endif %}\n{% endmacro %}\n{% set total_amount = doc.items | map(attribute='amount') | sum %}\n{% set grouped_items = {} %}\n{% for item in doc.items %}\n{% set rate_key = item.custom_mrpprice_list %}\n{% if rate_key not in grouped_items %}\n{% set _ = grouped_items.update({ rate_key: {'custom_mrpprice_list': item.custom_mrpprice_list, 'price_list_rate':\nitem.price_list_rate, 'gst_hsn_code': item.gst_hsn_code, 'stock_uom': item.stock_uom, 'items': [{'item_code':\nitem.item_code, 'item_name': item.item_name, 'qty': item.qty, 'amount': item.amount}]}}) %}\n{% else %}\n{% set _ = grouped_items[rate_key]['items'].append({'item_code': item.item_code, 'item_name': item.item_name, 'qty':\nitem.qty, 'amount': item.amount}) %}\n{% endif %}\n{% endfor %}\n{% set final_list = [] %}\n{%- for rate_key, data in grouped_items.items() %}\n{%- if data['items'][0].item_code != 'Total' %}\n{%- set total_qty = data['items']|map(attribute='qty')|sum %}\n{%- set total_amount = data['items']|map(attribute='amount')|sum %}\n{%- set _ = final_list.append({'custom_mrpprice_list': data.custom_mrpprice_list, 'price_list_rate':\ndata.price_list_rate, 'gst_hsn_code': data.gst_hsn_code, 'stock_uom': data.stock_uom, 'item_code':\ndata['items'][0].item_code, 'item_name': data['items'][0].item_name, 'qty': total_qty, 'amount': total_amount}) %}\n{%- endif %}\n{%- endfor %}\n{% set company_bank_details = frappe.db.get_list(\"Bank Account\", filters={\"company\" : doc.company}, fields=[\"*\"]) %}\n{% set variant_totals = {} %}\n{% set variant_gst_hsn = {} %}\n{% set variant_stock_uom = {} %}\n{% set variant_prices = {} %}\n{% set variant_sizes = {} %}\n{% for row in doc.items %}\n{% set item_data = frappe.get_doc(\"Item\", row.item_code, fields=[\"*\"]) %}\n{% set variant_of = item_data.variant_of %}\n{% set gst_hsn_code = row.gst_hsn_code %}\n{% set uom = item_data.stock_uom %}\n{% if variant_of not in variant_totals %}\n{% set dummy = variant_totals.update({variant_of: 0}) %}\n{% set dummy = variant_gst_hsn.update({variant_of: set()}) %}\n{% set dummy = variant_stock_uom.update({variant_of: set()}) %}\n{% set dummy = variant_prices.update({variant_of: { \"Total Qty\": 0, \"Total Price List Rate\": 0, \"Total Rate\": 0, \"Total\nBase Amount\": 0, \"GST HSN Codes\": set(), \"UOM\": set() }}) %}\n{% set dummy = variant_sizes.update({variant_of: set()}) %}\n{% endif %}\n{% set dummy = variant_totals.update({variant_of: variant_totals.get(variant_of, 0) + row.qty}) %}\n{% set dummy = variant_gst_hsn[variant_of].add(gst_hsn_code) %}\n{% set dummy = variant_stock_uom[variant_of].add(uom) %}\n{% set dummy = variant_prices[variant_of].update({ \"Total Qty\": variant_prices[variant_of].get(\"Total Qty\", 0) +\nrow.qty, \"Total Price List Rate\": variant_prices[variant_of].get(\"Total Price List Rate\", 0) + row.price_list_rate,\n\"Total Rate\": variant_prices[variant_of].get(\"Total Rate\", 0) + row.rate, \"Total Base Amount\":\nvariant_prices[variant_of].get(\"Total Base Amount\", 0) + row.base_amount, \"GST HSN Codes\": variant_gst_hsn[variant_of]\nif variant_gst_hsn[variant_of] is not none else set(), \"UOM\": variant_stock_uom[variant_of] if\nvariant_stock_uom[variant_of] is not none else set() }) %}\n{# Extracting sizes #}\n{% for attr in item_data.attributes %}\n{% if attr.attribute == \"Size\" %}\n{% set dummy = variant_sizes[variant_of].add(attr.attribute_value) %}\n{% endif %}\n{% endfor %}\n{% endfor %}\n{% set variant_list = [] %}\n{% for variant, data in variant_prices.items() %}\n{% set variant_dict = { \"Variant_Of\": variant, \"Total_Qty\": data[\"Total Qty\"], \"GST_HSN_Codes\": \", \".join(list(data[\"GST\nHSN Codes\"])), \"UOM\": \", \".join(list(data[\"UOM\"])), \"Price_List_Rate\": data[\"Total Price List Rate\"], \"Rate\":\ndata[\"Total Rate\"], \"Base_Amount\": data[\"Total Base Amount\"], \"Sizes\": \", \".join(list(variant_sizes[variant])) } %}\n{% set dummy = variant_list.append(variant_dict) %}\n{% endfor %}\n\n{% set fetch_e_Waybill_Log_data = frappe.db.get_list(\"e-Waybill Log\", filters={\"reference_name\": doc.name},\nfields=[\"*\"]) %}\n\n\n{% macro display_data(data) %}\n{% if data is not none %}\n{{ data }}\n{% endif %}\n{% endmacro %}\n\n{% if doc.irn %}\n{% set invoice_data = frappe.db.get_list(\"e-Invoice Log\", filters={\"irn\": doc.irn}, fields=[\"acknowledgement_number\",\n\"signed_qr_code\"]) %}\n{% endif %}\n\n<div style=\"display: flex; align-items: center; height: 32mm; border: 1px solid black; padding-left: 25px;\">\n  <div style=\"width: 75%;\">\n    <div>\n      <span>\ud83d\udccd</span> <span\n        style=\"border-bottom: 1px dotted black; font-size: 16px;\">{{display_data(doc.company)}}</span>\n    </div>\n    <div style=\"display: flex;\">\n      <div>\ud83d\udccd</div>\n      {% for data in company_address %}\n      <div style=\"border-bottom: 1px dotted black; font-size: 12px;\">{{ display_data(data.address_line1) }} {{\n        display_data(data.city) }} - {{ display_data(data.pincode) }}</div>\n      {% endfor %}\n    </div>\n    <div style=\"display: flex;\">\n      <div>\ud83d\udcf1</div>\n      {% for data in company_address %}\n      <div style=\"border-bottom: 1px dotted black;\">Office - {{ display_data(data.custom_telephone_number) }}\n      </div>\n      {% endfor %}\n    </div>\n    <div style=\"display: flex; padding-top: 2px;\">\n      <div>\ud83d\udce7</div>\n      {% for company in email_and_website %}\n      <div style=\"margin-left: 5px;\">{{ display_data(company.email) }} {{ display_data(company.website) }}</div>\n      {% endfor %}\n    </div>\n  </div>\n  <div style=\"width: 25%; display: flex; flex-direction: column; margin-left: 50px; margin-right: 30px;\">\n    <div>\n      TAX INVOICE\n    </div>\n    <div style=\"font-size: 12px;\">\n      ({{ display_data(doc.invoice_copy) }})\n    </div>\n    <div style=\"font-size: 11px;\">\n      <strong>GSTIN: {{ display_data(doc.company_gstin) }}</strong>\n    </div>\n  </div>\n</div>\n\n<div style=\"display: flex; height: 42mm; border: 1px solid black;\">\n  <div style=\"width: 50%; border-right: 1px solid black; padding: 0px 6px;\">\n    <div style=\"display: flex;\">\n      <div style=\"width: 30%;\">Buyer:</div>\n      <div style=\"flex-shrink: 0; width: 70%;\">\n        <p style=\"font-size: 12px;\">{{ display_data(doc.customer) }}</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Address:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_address %}\n        <p style=\"font-size: 12px;\">\n          {{ display_data(data.address_line1) }} {{ display_data(data.address_line2) }} - {{ display_data(data.pincode)\n          }} {{\n          display_data(data.state) }}\n        </p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">GST No:</div>\n      <div style=\"width: 70%;\">\n        <p style=\"font-size: 12px;\">{{ display_data(doc.billing_address_gstin) }}</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">State Code:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.gst_state_number) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">E-mail:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.email_id) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Mob No:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.custom_telephone_number) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Ph No:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.phone) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n  </div>\n  <div style=\"width: 50%; padding: 0px 6px;\">\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Invoice No:</div>\n      <div style=\"flex-shrink: 0; width: 70%;\">\n        <p style=\"font-size: 12px;\">{{ display_data(doc.name) }}</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Dated:</div>\n      <div style=\"flex-shrink: 0; width: 70%;\">\n        <p style=\"font-size: 12px;\">{{ display_data(doc.posting_date) }}</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Terms of Payment:</div>\n      <div style=\"flex-shrink: 0; width: 70%;\">\n        {% if doc.payment_terms_template is not none %}\n        <p style=\"font-size: 12px;\">{{ doc.payment_terms_template }}</p>\n        {% else %}\n        <p style=\"font-size: 12px;\"></p>\n        {% endif %}\n      </div>\n    </div>\n  </div>\n</div>\n\n<div style=\"display: flex; height: 42mm; border: 1px solid black;\">\n  <div style=\"width: 50%; border-right: 1px solid black; padding: 0px 6px;\">\n    <div style=\"display: flex;\">\n      <div style=\"width: 30%;\">Ship To:</div>\n      <div style=\"flex-shrink: 0; width: 70%;\">\n        <p style=\"font-size: 12px;\">{{ display_data(doc.customer) }}</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Address:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_shippin_address %}\n        <p style=\"font-size: 12px;\">\n          {{ display_data(data.address_line1) }} - {{ display_data(data.pincode) }} {{\n          display_data(data.state) }}\n        </p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">GST No:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_shippin_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.gstin) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">State Code:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_shippin_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.gst_state_number) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">E-mail:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_shippin_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.email_id) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Mob No:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_shippin_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.custom_telephone_number) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Ph No:</div>\n      <div style=\"width: 70%;\">\n        {% for data in customer_shippin_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.phone) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n  </div>\n  <div style=\"width: 50%; padding: 0px 6px;\">\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0; width: 30%;\">Transport:</div>\n      <div style=\"flex-shrink: 0; width: 37%;\">\n        {% if doc.transporter is not none %}\n        <p style=\"font-size: 12px;\">{{ doc.transporter }}</p>\n        {% else %}\n        <p style=\"font-size: 12px;\"></p>\n        {% endif %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0;\">L R No.&amp;Dt:</div>\n      <div style=\"flex-shrink: 0; margin-left: 47px;\">\n        <p style=\"font-size: 12px;\">{{display_data(doc.lr_no)}} - {{display_data(doc.lr_date)}}</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0;\">Place of Supply:</div>\n      <div style=\"flex-shrink: 0; margin-left: 20px;\">\n        <p style=\"font-size: 12px;\">{{ display_data(doc.place_of_supply) }}</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0;\">Destination:</div>\n      <div style=\"flex-shrink: 0; margin-left: 46px;\">\n        {% for data in customer_address %}\n        <p style=\"font-size: 12px;\">{{ display_data(data.city) }}</p>\n        {% endfor %}\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0;\"># Box/Bag:</div>\n      <div style=\"flex-shrink: 0; margin-left: 50px;\">\n        <p style=\"font-size: 12px;\">{{display_data(doc.custom_box)}} BOX</p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0;\">E-Way Bill:</div>\n      <div style=\"flex-shrink: 0; margin-left: 50px;\">\n        <p style=\"font-size: 12px;\">\n          {% for details in fetch_e_Waybill_Log_data %}\n          {{ display_data(details.name) }}\n          {% endfor %}\n        </p>\n      </div>\n    </div>\n    <div style=\"display: flex;\">\n      <div style=\"flex-shrink: 0;\">DC No.:</div>\n      <div style=\"flex-shrink: 0; margin-left: 66px;\">\n        <p style=\"font-size: 12px;\">\n          {{ delivery_note_names | join(', ') }}\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div\n  style=\"display: flex; align-items: center; height: 30px; justify-content: space-between; padding: 3px; border-right: 1px solid black; border-left: 1px solid black; border-bottom: 1px solid black;\">\n  <div style=\"display: flex;\">\n    <div><strong>IRN: </strong></div>\n    <div style=\"font-size: 12px; padding-top: 3px; padding-left: 1px;\">\n      {{ display_data(doc.irn) }}\n    </div>\n  </div>\n  <div style=\"display: flex;\">\n    <div style=\"font-weight: 500;\">Ack No.</div>\n    <div>\n      {% for data in invoice_data %}\n      {{display_data(data.acknowledgement_number)}}\n      {% endfor %}\n    </div>\n  </div>\n  <div style=\"display: flex;\">\n    <div style=\"font-weight: 500;\">Date : </div>\n    {% set fetch_ewaybill = frappe.db.get_list(\"e-Waybill Log\", filters = {\"reference_name\": doc.name}, fields=[\"*\"]) %}\n    {% for data in fetch_ewaybill %}\n    <div>{{display_data(data.created_on)}}</div>\n    {% endfor %}\n  </div>\n</div>\n<table style=\"width : 100%;\">\n  <!-- Table Header Section -->\n  <thead>\n    <tr>\n      <td\n        style=\"border: 1px solid black; width: 14%; color: black; text-align: left; font-weight: bold; padding: 5px !important;\">\n        Sr No.\n      </td>\n      <td\n        style=\"border: 1px solid black; color: black; width: 44%; text-align: left; font-weight: bold; padding: 5px !important;\">\n        Description of Goods\n      </td>\n      <td\n        style=\"border: 1px solid black; color: black; width: 18%; text-align: left; font-weight: bold; padding: 5px !important;\">\n        HSN Code\n      </td>\n      <td\n        style=\"border: 1px solid black; color: black; width: 5%; text-align: left; font-weight: bold; padding: 5px !important;\">\n        Qty\n      </td>\n      <td\n        style=\"border: 1px solid black; color: black; width: 5%; text-align: left; font-weight: bold; padding: 5px !important;\">\n        Unit\n      </td>\n      <td\n        style=\"border: 1px solid black; color: black; text-align: left; width: 12.5%; font-weight: bold; padding: 5px !important;\">\n        MRP\n      </td>\n      <td\n        style=\"border: 1px solid black; color: black; text-align: left; width: 12.5%; font-weight: bold; padding: 5px !important;\">\n        Rate\n      </td>\n      <td\n        style=\"border: 1px solid black; color: black; text-align: left; width: 22.5%; padding-right: 30px !important; font-weight: bold; padding: 5px !important;\">\n        Amount\n      </td>\n    </tr>\n  </thead>\n  <tbody>\n    {% for i in range(1, final_list|length + 1) %}\n    <tr>\n      <td style=\"\n        border: 1px solid black;\n        width: 9%;\n        color: black;\n        text-align: left;\n      \">\n        {{ i }}\n      </td>\n      <td style=\"border: 1px solid black; color: black; text-align: left\">\n        {% set fetching_variant_dets = frappe.db.get_list(\"Item\",\n        filters={\"name\": final_list[i-1]['item_code']}, fields=[\"*\"]) %} {%\n        for data in fetching_variant_dets %} {% set parent_prod_name =\n        frappe.db.get_list(\"Item\", filters={\"name\": data.variant_of},\n        fields=[\"*\"]) %} {% for details in parent_prod_name %} {{\n        details.item_name }} {% endfor %} {% endfor %}\n      </td>\n      <td style=\"border: 1px solid black; color: black; text-align: left\">\n        {% set fetching_variant_hsn_dets = frappe.db.get_list(\"Item\",\n        filters={\"name\": final_list[i-1]['item_code'], \"gst_hsn_code\":\n        final_list[i-1]['gst_hsn_code']}, fields=[\"*\"]) %} {% for data in\n        fetching_variant_hsn_dets %} {% set parent_prod_name =\n        frappe.db.get_list(\"Item\", filters={\"name\": data.variant_of},\n        fields=[\"*\"]) %} {% for details in parent_prod_name %} {{\n        details.gst_hsn_code }} {% endfor %} {% endfor %}\n      </td>\n      <td style=\"border: 1px solid black; color: black; text-align: left\">\n        {{ final_list[i-1]['qty'] }}\n      </td>\n      <td style=\"border: 1px solid black; color: black; text-align: left\">\n        {{ final_list[i-1]['stock_uom'] }}\n      </td>\n      <td style=\"border: 1px solid black; color: black; text-align: left\">\n        {{ final_list[i-1]['custom_mrpprice_list'] }}\n      </td>\n      <td style=\"border: 1px solid black; color: black; text-align: left\">\n        {% if final_list[i-1]['qty'] != 0 %}\n        {{ (final_list[i-1]['amount'] / final_list[i-1]['qty']) | round(2) }}\n        {% else %}\n        <!-- or whatever you want to display in case of division by zero -->\n        {% endif %}\n      </td>\n      <td style=\"\n        border: 1px solid black;\n        color: black;\n        text-align: left;\n        width: 25%;\n      \">\n        {{ final_list[i-1]['amount'] }}\n      </td>\n    </tr>\n    {% endfor %}\n  </tbody>\n  <tfoot>\n    <tbody>\n      <tr>\n        <td style=\"\n            border: 1px solid black;\n            width: 9%;\n            color: black;\n            text-align: left;\n          \" colspan=\"7\">\n          <div style=\"height: 17.6px\"></div>\n          <div style=\"display: flex; flex-direction: column\">\n            {% for tax_data in doc.taxes %}\n            <div style=\"padding-left: 370px\">\n              Add &nbsp; : &nbsp; {{ display_data(tax_data.description) }}\n              &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @ &nbsp; &nbsp; &nbsp;\n              &nbsp; {{ display_data(tax_data.rate) }} %\n            </div>\n            {% endfor %}\n            <div style=\"padding-left: 370px\">\n              Add &nbsp; : &nbsp; Rounded Off(+)\n            </div>\n          </div>\n        </td>\n        <td style=\"\n            border: 1px solid black;\n            color: black;\n            width: 10.5%;\n            text-align: left;\n          \">\n          <div>{{ display_data(total_amount) }}</div>\n          <div style=\"display: flex; flex-direction: column\">\n            {% for tax_data in doc.taxes %}\n            <div>{{ display_data(tax_data.tax_amount) }}</div>\n            {% endfor %}\n\n            <div>{{ display_data(doc.rounding_adjustment) }}</div>\n          </div>\n        </td>\n      </tr>\n      <tr style=\"border-left: 1px solid black; border-right: 1px solid black;\">\n        <td colspan=\"7\" style=\"padding : 0 !important\">\n          <div style=\"width: 100%; display : flex; justify-content: space-between;\">\n            <div style=\"padding: 10px;\">\n              {{ display_data(doc.in_words) }}\n            </div>\n            <div\n              style=\"padding: 10px; border-left: 1px solid black; border-bottom: 1px solid black; border-right: 1px solid black;\">\n              GRAND TOTAL\n            </div>\n          </div>\n        </td>\n        <td style=\"border-bottom: 1px solid black;\">\n          {{display_data(doc.rounded_total)}}\n        </td>\n      </tr>\n      <tr style=\"border-left: 1px solid black; border-right: 1px solid black; border-bottom: 1px solid black;\">\n        <td colspan=\"8\">\n          <strong>Notes : </strong>\n        </td>\n      </tr>\n      <tr style=\"border: 1px solid black;\">\n        <td colspan=\"8\">\n          <div style=\"width: 100%; \">\n            <div>\n              BANK DETAILS: {% for details in company_bank_details %} {{\n              display_data(doc.company) }} {{ display_data(details.bank) }} BANK {% endfor\n              %}<br>\n              A/C NO. {% for details in company_bank_details %} {{\n              display_data(details.bank_account_no) }}, IFS CODE: {{\n              display_data(details.branch_code) }} {% endfor %}\n            </div>\n          </div>\n        </td>\n      </tr>\n      <tr style=\"height : 45mm; border : 1px solid black;\">\n        <td colspan=\"2\" style=\"border-right: 1px solid black;\">\n          <div><strong>Terms and Condition</strong> <br>{{ display_data(doc.terms) }}</div>\n        </td>\n        <td colspan=\"3\" style=\"border-right: 1px solid black;\">\n          <div>\n            <center><strong>QR Code</strong></center>\n            {% if invoice_data %} {% for data in invoice_data %} {% if\n            data.signed_qr_code %}\n            <center>\n              <img src=\"https://api.qrserver.com/v1/create-qr-code/?data={{ data.signed_qr_code }}&amp;size=140x140\"\n                alt=\"QR Code\">\n            </center>\n            {% else %}\n            <center></center>\n            {% endif %} {% endfor %} {% else %}\n            <center></center>\n            {% endif %}\n          </div>\n        </td>\n        <td colspan=\"3\" style=\"border-right: 1px solid black;\">\n          Receiver`s Signature\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          For {{ display_data(doc.company) }}<br />\n          Authorized Signatory\n        </td>\n      </tr>\n    </tbody>\n  </tfoot>\n</table>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-06-10 13:21:51.278736",
 "modified_by": "Administrator",
 "module": "Mezzo Apparels",
 "name": "Sales Invoice Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}